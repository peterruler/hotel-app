{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../booking.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction BookingsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"a\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function BookingsComponent_div_0_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const booking_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteBooking(booking_r1));\n    });\n    i0.ɵɵtext(6, \"x\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\", 6);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"small\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const booking_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/edit/\", booking_r1.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(booking_r1.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(9, 5, booking_r1.startDate, \"dd/MM/yy\"), \" - \", i0.ɵɵpipeBind2(10, 8, booking_r1.endDate, \"dd/MM/yy\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Room: \", booking_r1.roomNumber, \"\");\n  }\n}\nexport class BookingsComponent {\n  constructor(bookingService) {\n    this.bookingService = bookingService;\n    this.bookings = [];\n  }\n  ngOnInit() {\n    this.bookingService.getBookings().subscribe(result => {\n      this.bookings = result;\n    });\n  }\n  deleteBooking(booking) {\n    this.bookingService.deleteBooking(booking).subscribe();\n    this.bookings = this.bookings.filter(b => b != booking);\n  }\n  static #_ = this.ɵfac = function BookingsComponent_Factory(t) {\n    return new (t || BookingsComponent)(i0.ɵɵdirectiveInject(i1.BookingService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BookingsComponent,\n    selectors: [[\"app-bookings\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"list-group\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group\"], [\"aria-current\", \"true\", 1, \"mb-2\", \"list-group-item\"], [1, \"d-flex\", \"w-100\", \"justify-content-between\"], [1, \"mb-1\", \"h5\", \"text-decoration-none\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"mb-1\"]],\n    template: function BookingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BookingsComponent_div_0_Template, 13, 11, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.bookings);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.RouterLink, i2.DatePipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","BookingsComponent_div_0_Template_button_click_5_listener","restoredCtx","ɵɵrestoreView","_r3","booking_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteBooking","ɵɵadvance","ɵɵpropertyInterpolate1","id","ɵɵtextInterpolate","name","ɵɵtextInterpolate2","ɵɵpipeBind2","startDate","endDate","ɵɵtextInterpolate1","roomNumber","BookingsComponent","constructor","bookingService","bookings","ngOnInit","getBookings","subscribe","result","booking","filter","b","_","ɵɵdirectiveInject","i1","BookingService","_2","selectors","decls","vars","consts","template","BookingsComponent_Template","rf","ctx","ɵɵtemplate","BookingsComponent_div_0_Template","ɵɵproperty"],"sources":["/Users/peterstroessler/Documents/Projects/hotel-app/src/app/bookings/bookings.component.ts","/Users/peterstroessler/Documents/Projects/hotel-app/src/app/bookings/bookings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Booking } from '../booking';\nimport { BookingService } from '../booking.service';\n\n@Component({\n  selector: 'app-bookings',\n  templateUrl: './bookings.component.html',\n  styleUrls: ['./bookings.component.css']\n})\n\nexport class BookingsComponent implements OnInit {\n\n  constructor(private bookingService:BookingService) { }\n\n  bookings : Booking[] = [];\n\n  ngOnInit(): void {\n    this.bookingService.getBookings().subscribe((result) => {\n      this.bookings = result;\n    });\n  }\n\n  deleteBooking(booking: Booking) : void {\n    this.bookingService.deleteBooking(booking).subscribe();\n    this.bookings = this.bookings.filter(b => b != booking);\n  }\n}","<div class=\"list-group\" *ngFor=\"let booking of bookings\">\n    <div class=\"mb-2 list-group-item\" aria-current=\"true\">\n      <div class=\"d-flex w-100 justify-content-between\">\n        <a routerLink=\"/edit/{{booking.id}}\" class=\"mb-1 h5 text-decoration-none\">{{booking.name}}</a>\n        <button (click)=\"deleteBooking(booking)\" class=\"btn btn-sm btn-danger\">x</button>\n      </div>\n      <p class=\"mb-1\">{{booking.startDate | date: 'dd/MM/yy' }} - {{booking.endDate | date: 'dd/MM/yy'}}</p>\n      <small>Room: {{booking.roomNumber}}</small>\n    </div>\n</div>"],"mappings":";;;;;;;ICAAA,EAAA,CAAAC,cAAA,aAAyD;IAGyBD,EAAA,CAAAE,MAAA,GAAgB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAC9FH,EAAA,CAAAC,cAAA,gBAAuE;IAA/DD,EAAA,CAAAI,UAAA,mBAAAC,yDAAA;MAAA,MAAAC,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,UAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAX,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAF,MAAA,CAAAG,aAAA,CAAAL,UAAA,CAAsB;IAAA,EAAC;IAA+BT,EAAA,CAAAE,MAAA,QAAC;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAEnFH,EAAA,CAAAC,cAAA,WAAgB;IAAAD,EAAA,CAAAE,MAAA,GAAkF;;;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACtGH,EAAA,CAAAC,cAAA,aAAO;IAAAD,EAAA,CAAAE,MAAA,IAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAQ;;;;IAJtCH,EAAA,CAAAe,SAAA,GAAiC;IAAjCf,EAAA,CAAAgB,sBAAA,yBAAAP,UAAA,CAAAQ,EAAA,KAAiC;IAAsCjB,EAAA,CAAAe,SAAA,GAAgB;IAAhBf,EAAA,CAAAkB,iBAAA,CAAAT,UAAA,CAAAU,IAAA,CAAgB;IAG5EnB,EAAA,CAAAe,SAAA,GAAkF;IAAlFf,EAAA,CAAAoB,kBAAA,KAAApB,EAAA,CAAAqB,WAAA,OAAAZ,UAAA,CAAAa,SAAA,sBAAAtB,EAAA,CAAAqB,WAAA,QAAAZ,UAAA,CAAAc,OAAA,kBAAkF;IAC3FvB,EAAA,CAAAe,SAAA,GAA4B;IAA5Bf,EAAA,CAAAwB,kBAAA,WAAAf,UAAA,CAAAgB,UAAA,KAA4B;;;ADGzC,OAAM,MAAOC,iBAAiB;EAE5BC,YAAoBC,cAA6B;IAA7B,KAAAA,cAAc,GAAdA,cAAc;IAElC,KAAAC,QAAQ,GAAe,EAAE;EAF4B;EAIrDC,QAAQA,CAAA;IACN,IAAI,CAACF,cAAc,CAACG,WAAW,EAAE,CAACC,SAAS,CAAEC,MAAM,IAAI;MACrD,IAAI,CAACJ,QAAQ,GAAGI,MAAM;IACxB,CAAC,CAAC;EACJ;EAEAnB,aAAaA,CAACoB,OAAgB;IAC5B,IAAI,CAACN,cAAc,CAACd,aAAa,CAACoB,OAAO,CAAC,CAACF,SAAS,EAAE;IACtD,IAAI,CAACH,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACM,MAAM,CAACC,CAAC,IAAIA,CAAC,IAAIF,OAAO,CAAC;EACzD;EAAC,QAAAG,CAAA,G;qBAfUX,iBAAiB,EAAA1B,EAAA,CAAAsC,iBAAA,CAAAC,EAAA,CAAAC,cAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAjBf,iBAAiB;IAAAgB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCV9BhD,EAAA,CAAAkD,UAAA,IAAAC,gCAAA,mBASM;;;QATsCnD,EAAA,CAAAoD,UAAA,YAAAH,GAAA,CAAApB,QAAA,CAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}